{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/ace-builds@1.31.2/css/ace.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'students/css/index.css' %}">
    <link rel="stylesheet" href="{% static 'teachers/css/add_task.css' %}">
</head>
<header style="left: 0; width: 100%;">
    <span style="color: #57A3FF;">SQL <span style="color: #000;">Trainer</span><img src="{% static 'students/img/logo.png' %}" class="logo"></span>
</header>
<body>
    <main style="left: 0;">
        <br><br><br>
        <!-- <a class="breadcrumbs" href="#">
            <i class='bx bx-arrow-back'></i>
            <span>Все задания</span>
        </a> -->
        <section class="add-task">
            <input type="text" class="task-name-input" readonly style="pointer-events: none;" value="Задание №{{ task.id }}">
            <div style="width: 100%;" class="input-line"></div>
            <p style="font-size: 1.5vh; margin-top: 20px; margin-bottom: 5px; color: #818181;">Описание задания</p>
            <p style="font-size: 1.5vh; color: #000;">{{ task.description }}</p>
            <p style="font-size: 1.5vh; margin-top: 20px; margin-bottom: 5px; color: #818181;">Введенный запрос</p>
            <div style="border: 2px solid lightgray; border-bottom: none; padding: 4px 20px; font-size: 1.3vh; background-color: #fff; border-radius: 5px 5px 0 0;">Редактор кода</div>
            <div id="editor">{{ task.sql_query }}</div>
            <br>
            <button class="request-result-btn">Результат запроса</button>
            <br>
            <br>
            <!-- <textarea onchange="$(this).outerHeight(100).outerHeight(this.scrollHeight);" class="request-result">{{ file_content }}</textarea> -->
            <textarea id="results" cols="100" rows="11">{{ file_content }}</textarea>
        </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/ace-builds@1.31.2/src-min-noconflict/ace.min.js"></script>
    <script src="{% static 'students/js/ext-language_tools.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="{% static 'teachers/js/slide_request_result.js' %}"></script>
    <script>
        var editor = ace.edit("editor");
        ace.require("ace/ext/language_tools");
        editor.setTheme("ace/theme/sqlserver");
        editor.session.setMode("ace/mode/sql");
        editor.setReadOnly(true);
        editor.setOptions({
            enableBasicAutocompletion: true,
            enableSnippets: true,
            enableLiveAutocompletion: true,
            readOnly: true, 
            highlightActiveLine: false, 
            highlightGutterLine: false,
            showPrintMargin: false,
        });
        editor.renderer.$cursorLayer.element.style.display = "none"
    </script>
</body>
</html>

<!-- <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Описание задания</title>
</head>
<body>
    <h1>Описание задания</h1>
    <p><strong>ID задания:</strong> {{ task.id }}</p>
    <p><strong>Категория:</strong> {{ task.category.name }}</p>
    <p><strong>Описание:</strong> {{ task.description }}</p>
    <p><strong>SQL запрос:</strong> {{ task.sql_query }}</p>
    <textarea cols="80" rows="20">{{ file_content }}</textarea>
</body>
</html> -->
